(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[893],{2632:function(e,l,t){Promise.resolve().then(t.bind(t,5664))},5664:function(e,l,t){"use strict";t.r(l),t.d(l,{default:function(){return h}});var r=t(7437),n=t(23),s=t(2265),i=t(9733),d=t(8185),c=t(9888),a=t(7209),o=t(402);function x(e){var l;let{tax:t,productTypes:n,onSave:s,onCancel:x,onChange:u}=e;return(0,r.jsxs)(d.Zb,{className:"w-[100%]",children:[(0,r.jsx)(d.Ol,{children:(0,r.jsxs)(d.ll,{children:[(null==t?void 0:t.id)?"Update":"Create"," Tax"]})}),(0,r.jsx)(d.aY,{children:(0,r.jsx)("form",{children:(0,r.jsxs)("div",{className:"grid w-full items-center gap-4",children:[(0,r.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,r.jsx)(o._,{htmlFor:"product-type",children:"Product Type"}),(0,r.jsxs)(c.Ph,{onValueChange:e=>u({...t,product_type_id:parseInt(e)}),value:null==t?void 0:null===(l=t.product_type_id)||void 0===l?void 0:l.toString(),children:[(0,r.jsx)(c.i4,{id:"product-type",children:(0,r.jsx)(c.ki,{placeholder:"Select"})}),(0,r.jsx)(c.Bw,{position:"popper",children:n&&n.map(e=>(0,r.jsx)(c.Ql,{value:e.id.toString(),children:e.name},e.id))})]})]}),(0,r.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,r.jsx)(o._,{htmlFor:"price",children:"Price"}),(0,r.jsx)(a.I,{id:"price",placeholder:"Price of your product",onChange:e=>u({...t,tax_rate:e.target.value}),value:null==t?void 0:t.tax_rate})]})]})})}),(0,r.jsxs)(d.eW,{className:"flex justify-between",children:[(0,r.jsx)(i.z,{variant:"outline",onClick:x,children:"Cancel"}),(0,r.jsx)(i.z,{onClick:s,children:"Save"})]})]})}var u=t(5212);function h(){let{dataTax:e,dataProductType:l,createTax:t,updateTax:d,deleteTax:c,loading:a,error:o}=(0,u.b)(),[h,p]=(0,s.useState)(null);if(a)return(0,r.jsx)("p",{children:"Loading..."});if(o)return(0,r.jsxs)("p",{children:["Error: ",o&&(null==o?void 0:o.message)]});return(0,r.jsxs)(n.x,{className:"desktop-body flex w-full h-full py-16 mx-auto items-center justify-center overflow-auto pl-[230px] pr-[50px]",children:[(0,r.jsx)("h1",{className:"text-4xl font-bold text-center mb-8",children:"Taxes by Product type"}),h?(0,r.jsx)(x,{tax:h||{},productTypes:l,onSave:j,onCancel:()=>p(null),onChange:p}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"flex justify-end w-full mb-4",children:(0,r.jsx)(i.z,{onClick:()=>p({}),children:"Add New"})}),(0,r.jsx)("div",{className:"overflow-x-auto w-full",children:(0,r.jsxs)("table",{className:"min-w-full bg-white border border-gray-200",children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"ID"}),(0,r.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"Product Type"}),(0,r.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"Rate"}),(0,r.jsx)("th",{className:"py-2 px-4 border-b text-right",children:"Actions"})]})}),(0,r.jsx)("tbody",{children:e&&e.map(e=>{var t;return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{className:"py-2 px-4 border-b text-left",children:e.id}),(0,r.jsx)("td",{className:"py-2 px-4 border-b text-left",children:null==l?void 0:null===(t=l.find(l=>l.id===e.product_type_id))||void 0===t?void 0:t.name}),(0,r.jsx)("td",{className:"py-2 px-4 border-b text-left",children:e.tax_rate}),(0,r.jsxs)("td",{className:"py-2 px-4 border-b text-right",children:[(0,r.jsx)("button",{onClick:()=>p(e),className:"text-blue-500 hover:underline mr-4",children:"Edit"}),(0,r.jsx)("button",{onClick:()=>f(e.id),className:"text-red-500 hover:underline",children:"Delete"})]})]},e.id)})})]})})]})]});async function j(){(null==h?void 0:h.id)?await d(h):await t(h),p(null)}async function f(e){confirm("Are you sure you want to delete this item?")&&await c(e)}}}},function(e){e.O(0,[707,833,24,971,23,744],function(){return e(e.s=2632)}),_N_E=e.O()}]);