(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[423],{8687:function(e,t,r){Promise.resolve().then(r.bind(r,9988))},9988:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return f}});var n=r(7437),o=r(23),a=r(2265),s=r(9733),i=r(8185),c=r(7209),l=r(402);function d(e){let{productType:t,onSave:r,onCancel:o,onChange:a}=e;return(0,n.jsxs)(i.Zb,{className:"w-[100%]",children:[(0,n.jsx)(i.Ol,{children:(0,n.jsxs)(i.ll,{children:[(null==t?void 0:t.id)?"Update":"Create"," Product Type"]})}),(0,n.jsx)(i.aY,{children:(0,n.jsx)("form",{children:(0,n.jsx)("div",{className:"grid w-full items-center gap-4",children:(0,n.jsxs)("div",{className:"flex flex-col space-y-1.5",children:[(0,n.jsx)(l._,{htmlFor:"name",children:"Name"}),(0,n.jsx)(c.I,{id:"name",placeholder:"Name of your project",onChange:e=>a({...t,name:e.target.value,id:(null==t?void 0:t.id)||0}),value:null==t?void 0:t.name})]})})})}),(0,n.jsxs)(i.eW,{className:"flex justify-between",children:[(0,n.jsx)(s.z,{variant:"outline",onClick:o,children:"Cancel"}),(0,n.jsx)(s.z,{onClick:r,children:"Save"})]})]})}var u=r(5212);function f(){let{dataProductType:e,createProductType:t,updateProductType:r,deleteProductType:i,loading:c,error:l}=(0,u.b)(),[f,p]=(0,a.useState)(null);if(c)return(0,n.jsx)("p",{children:"Loading..."});if(l)return(0,n.jsxs)("p",{children:["Error: ",l&&(null==l?void 0:l.message)]});return(0,n.jsxs)(o.x,{className:"desktop-body flex w-full h-full py-16 mx-auto items-center justify-center overflow-auto pl-[230px] pr-[50px]",children:[(0,n.jsx)("h1",{className:"text-4xl font-bold text-center mb-8",children:"Product Types"}),f?(0,n.jsx)(d,{productType:f||{},onSave:h,onCancel:()=>p(null),onChange:p}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"flex justify-end w-full mb-4",children:(0,n.jsx)(s.z,{onClick:()=>p({}),children:"Add New"})}),(0,n.jsx)("div",{className:"overflow-x-auto w-full",children:(0,n.jsxs)("table",{className:"min-w-full bg-white border border-gray-200",children:[(0,n.jsx)("thead",{children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"ID"}),(0,n.jsx)("th",{className:"py-2 px-4 border-b text-left",children:"Name"}),(0,n.jsx)("th",{className:"py-2 px-4 border-b text-right",children:"Actions"})]})}),(0,n.jsx)("tbody",{children:e&&e.map(e=>(0,n.jsxs)("tr",{children:[(0,n.jsx)("td",{className:"py-2 px-4 border-b text-left",children:e.id}),(0,n.jsx)("td",{className:"py-2 px-4 border-b text-left",children:e.name}),(0,n.jsxs)("td",{className:"py-2 px-4 border-b text-right",children:[(0,n.jsx)("button",{onClick:()=>p(e),className:"text-blue-500 hover:underline mr-4",children:"Edit"}),(0,n.jsx)("button",{onClick:()=>x(e.id),className:"text-red-500 hover:underline",children:"Delete"})]})]},e.id))})]})})]})]});async function h(){(null==f?void 0:f.id)?await r(f):await t(f),p(null)}async function x(e){confirm("Are you sure you want to delete this item?")&&await i(e)}}},9733:function(e,t,r){"use strict";r.d(t,{z:function(){return l}});var n=r(7437),o=r(2265),a=r(1538),s=r(2218),i=r(9354);let c=(0,s.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=o.forwardRef((e,t)=>{let{className:r,variant:o,size:s,asChild:l=!1,...d}=e,u=l?a.g7:"button";return(0,n.jsx)(u,{className:(0,i.cn)(c({variant:o,size:s,className:r})),ref:t,...d})});l.displayName="Button"},8185:function(e,t,r){"use strict";r.d(t,{Ol:function(){return i},Zb:function(){return s},aY:function(){return l},eW:function(){return d},ll:function(){return c}});var n=r(7437),o=r(2265),a=r(9354);let s=o.forwardRef((e,t)=>{let{className:r,...o}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...o})});s.displayName="Card";let i=o.forwardRef((e,t)=>{let{className:r,...o}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",r),...o})});i.displayName="CardHeader";let c=o.forwardRef((e,t)=>{let{className:r,...o}=e;return(0,n.jsx)("h3",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",r),...o})});c.displayName="CardTitle",o.forwardRef((e,t)=>{let{className:r,...o}=e;return(0,n.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",r),...o})}).displayName="CardDescription";let l=o.forwardRef((e,t)=>{let{className:r,...o}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",r),...o})});l.displayName="CardContent";let d=o.forwardRef((e,t)=>{let{className:r,...o}=e;return(0,n.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",r),...o})});d.displayName="CardFooter"},7209:function(e,t,r){"use strict";r.d(t,{I:function(){return s}});var n=r(7437),o=r(2265),a=r(9354);let s=o.forwardRef((e,t)=>{let{className:r,type:o,...s}=e;return(0,n.jsx)("input",{type:o,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...s})});s.displayName="Input"},402:function(e,t,r){"use strict";r.d(t,{_:function(){return l}});var n=r(7437),o=r(2265),a=r(8364),s=r(2218),i=r(9354);let c=(0,s.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=o.forwardRef((e,t)=>{let{className:r,...o}=e;return(0,n.jsx)(a.f,{ref:t,className:(0,i.cn)(c(),r),...o})});l.displayName=a.f.displayName},23:function(e,t,r){"use strict";r.d(t,{x:function(){return i}});var n=r(7437),o=r(2265),a=r(8551),s=r(9354);let i=o.forwardRef((e,t)=>{let{className:r,children:o,...i}=e;return(0,n.jsxs)(a.fC,{ref:t,className:(0,s.cn)("relative overflow-hidden",r),...i,children:[(0,n.jsx)(a.l_,{className:"h-full w-full rounded-[inherit]",children:o}),(0,n.jsx)(c,{}),(0,n.jsx)(a.Ns,{})]})});i.displayName=a.fC.displayName;let c=o.forwardRef((e,t)=>{let{className:r,orientation:o="vertical",...i}=e;return(0,n.jsx)(a.gb,{ref:t,orientation:o,className:(0,s.cn)("flex touch-none select-none transition-colors","vertical"===o&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===o&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",r),...i,children:(0,n.jsx)(a.q4,{className:"relative flex-1 rounded-full bg-border"})})});c.displayName=a.gb.displayName},5212:function(e,t,r){"use strict";r.d(t,{AppWrapper:function(){return s},b:function(){return i}});var n=r(7437),o=r(2265);let a=(0,o.createContext)({});function s(e){let{children:t}=e,[r,s]=(0,o.useState)([]),[i,c]=(0,o.useState)([]),[l,d]=(0,o.useState)([]),[u,f]=(0,o.useState)([]),[p,h]=(0,o.useState)(!0),[x,m]=(0,o.useState)(null);(0,o.useEffect)(()=>{y()},[]);let y=async()=>{try{h(!0);let[e,t,r,n]=await Promise.all([b("products"),b("productTypes"),b("taxes"),b("sales")]);s(e),c(t),d(r),f(n),h(!1)}catch(e){console.error("Error fetching data:",e),m(e),h(!1)}},b=async e=>{let t=await fetch("".concat("http://localhost:8101","/").concat(e));if(!t.ok)throw Error("Network response was not ok");return await t.json()},w=async(e,t)=>{let r=await fetch("".concat("http://localhost:8101","/").concat(e),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!r.ok)throw Error("Network response was not ok");return await r.json()},g=async(e,t,r)=>{let n=await fetch("".concat("http://localhost:8101","/").concat(e,"/").concat(r),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!n.ok)throw Error("Network response was not ok");return await n.json()},v=async(e,t)=>{if(!(await fetch("".concat("http://localhost:8101","/").concat(e,"/").concat(t),{method:"DELETE"})).ok)throw Error("Network response was not ok")};async function j(e){try{h(!0);let t=await w("products",e);s([...r,t]),h(!1)}catch(e){throw h(!1),m(e),console.error("Error creating product:",e),e}}async function N(e){try{h(!0);let t=await g("products",e,e.id),n=r.findIndex(t=>t.id===e.id),o=[...r];o[n]=t,s(o),h(!1)}catch(e){throw h(!1),m(e),console.error("Error updating product:",e),e}}async function k(e){try{h(!0),await v("products",e);let t=r.filter(t=>t.id!==e);s(t),h(!1)}catch(e){throw h(!1),m(e),console.error("Error deleting product:",e),e}}async function C(e){try{h(!0);let t=await w("productTypes",e);c([...i,t]),h(!1)}catch(e){throw h(!1),m(e),console.error("Error creating product type:",e),e}}async function E(e){try{h(!0);let t=await g("productTypes",e,e.id),r=i.findIndex(t=>t.id===e.id),n=[...i];n[r]=t,c(n),h(!1)}catch(e){throw h(!1),m(e),console.error("Error updating product type:",e),e}}async function T(e){try{h(!0),await v("productTypes",e);let t=i.filter(t=>t.id!==e);c(t),h(!1)}catch(e){throw h(!1),m(e),console.error("Error deleting product type:",e),e}}async function R(e){try{h(!0);let t=await w("taxes",e);d([...l,t]),h(!1)}catch(e){throw h(!1),m(e),console.error("Error creating tax:",e),e}}async function S(e){try{h(!0);let t=await g("taxes",e,e.id),r=l.findIndex(t=>t.id===e.id),n=[...l];n[r]=t,d(n),h(!1)}catch(e){throw h(!1),m(e),console.error("Error updating tax:",e),e}}async function _(e){try{h(!0),await v("taxes",e);let t=l.filter(t=>t.id!==e);d(t),h(!1)}catch(e){throw h(!1),m(e),console.error("Error deleting tax:",e),e}}async function z(e){try{h(!0),await v("sales",e);let t=u.filter(t=>t.id!==e);f(t),h(!1)}catch(e){throw h(!1),m(e),console.error("Error deleting sale:",e),e}}return(0,n.jsx)(a.Provider,{value:{getData:b,postData:w,createProduct:j,updateProduct:N,deleteProduct:k,createProductType:C,updateProductType:E,deleteProductType:T,createTax:R,updateTax:S,deleteTax:_,deleteSale:z,dataProduct:r,dataProductType:i,dataTax:l,dataSales:u,loading:p,error:x},children:t})}function i(){return(0,o.useContext)(a)}},9354:function(e,t,r){"use strict";r.d(t,{cn:function(){return a},o0:function(){return s},xG:function(){return i}});var n=r(4839),o=r(6164);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,o.m6)((0,n.W)(t))}function s(e){let[t,r,n]=e.split("T")[0].split("-");return"".concat(n,"/").concat(r,"/").concat(t)}function i(e){return e.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}}},function(e){e.O(0,[707,971,23,744],function(){return e(e.s=8687)}),_N_E=e.O()}]);